{
  "SchemaDefinition": "./SwordfishInteroperabilityProfile.v1_1_0.json",
  "ProfileName": "SwordfishBlockCapacityManagement",
  "ProfileVersion": "1.2.0",
  "OwningEntity": "SNIA.org",
  "Purpose": "Defines the Swordfish Block Capacity Management implementation requirements.",
  "ContactInfo": "SNIA.org",

  "RequiredProfiles": {
    "SwordfishBlockProvisioning": {
      "Repository": "https://redfish.dmtf.org/profiles/swordfish",
      "MinVersion": "1.3.0"
    }
  },
  "Registries": {
    "Features": {
      "MinVersion": "1.6.0",
      "Repository": "https://redfish.dmtf.org/registries/swordfish/v1",
      "SupportedFeatures": {
        "SNIA.Swordfish.Block.CapacityManagement": {}
      }
    }
  },
  "Resources": {
    "VolumeCollection": {
      "ReadRequirement": "IfImplemented",
      "UpdateResource": true
    },
    "Volume": {
      "Purpose": "One of the following mechanisms is required to support reporting of volume capacity.  In order to claim support of the Capacity Management Feature, correspondingly 'write' (expand) on that property must be supported.",
      "PropertyRequirements": {
        "CapacityBytes": {
          "ReadRequirement": "Recommended",
          "ConditionalRequirements": [{
              "Purpose": "Either CapacityBytes or Capacity/#Data/#AllocatedBytes must be supported.",
              "CompareProperty": "/Capacity/Data/AllocatedBytes",
              "CompareType": "Absent",
              "WriteRequirement": "Mandatory"
          }]
        },
        "Capacity": {
          "PropertyRequirements": {
            "Data": {
              "PropertyRequirements": {
                "AllocatedBytes": {
                  "ConditionalRequirements": [{
                      "Purpose": "Either CapacityBytes or Capacity/#Data/#AllocatedBytes must be supported.",
                      "CompareProperty": "CapacityBytes",
                      "CompareType": "Absent",
                      "WriteRequirement": "Mandatory"
                  }]
                }
              }
            }
          }
        }
      }
    }
  }
}
