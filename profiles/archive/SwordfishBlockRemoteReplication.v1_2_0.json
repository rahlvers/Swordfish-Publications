{
  "SchemaDefinition": "./SwordfishInteroperabilityProfile.v1_1_0.json",
  "ProfileName": "SwordfishBlockRemoteReplication",
  "ProfileVersion": "1.1.3",
  "OwningEntity": "SNIA.org",
  "Purpose": "Define remote replication block requirements for Swordfish conformant implementations.",
  "ContactInfo": "SNIA.org",
  "RequiredProfiles": {
    "SwordfishBlockProvisioning": {
      "Repository": "https://redfish.dmtf.org/profiles/swordfish",
      "MinVersion": "1.2.1"
    }
  },
  "Registries": {
    "Features": {
      "MinVersion": "1.5.0",
      "Repository": "https://redfish.dmtf.org/registries/swordfish/v1",
      "SupportedFeatures": {
        "SNIA.Swordfish.Block.RemoteReplication": {}
      }
    }
  },
  "Resources": {
    "Volume": {
      "ActionRequirements": {
        "CreateReplicaTarget": {
          "ReadRequirement": "IfImplemented",
          "Purpose": "Ability to reset the system is a core requirement of most users.",
          "ConditionalRequirements": [{
            "Purpose": "Either CreateReplicaTarget or AssignReplicaTarget must be supported in order to advertise remote replication support, when ReplicationEnabled is defined on the volume.",
            "CompareProperty": "ReplicationEnabled",
            "CompareType": "Absent",
            "ReadRequirement": "None"
          },
            {
            "Purpose": "Either CreateReplicaTarget or AssignReplicaTarget must be supported in order to advertise remote replication support, when ReplicationEnabled is defined on the volume.",
            "CompareProperty": "AssignReplicaTarget",
            "CompareType": "Absent",
            "ReadRequirement": "Mandatory"
          }]
        },
        "AssignReplicaTarget": {
          "ReadRequirement": "IfImplemented",
          "Purpose": "Ability to reset the system is a core requirement of most users.",
          "ConditionalRequirements": [{
            "Purpose": "Either CreateReplicaTarget or AssignReplicaTarget must be supported in order to advertise remote replication support, when ReplicationEnabled is defined on the volume.",
            "CompareProperty": "ReplicationEnabled",
            "CompareType": "Absent",
            "ReadRequirement": "None"
          },{
            "Purpose": "Either CreateReplicaTarget or AssignReplicaTarget must be supported in order to advertise remote replication support.",
            "CompareProperty": "CreateReplicaTarget",
            "CompareType": "Absent",
            "ReadRequirement": "Mandatory"
          }]
        }
      },
      "PropertyRequirements": {
        "ReplicationEnabled": {
          "ReadRequirement": "IfImplemented",
          "Purpose": "The ReplicationEnabled property shall be set on the volume to indicate that this volume is capable of supporting replication. When implemented and false, replication is supported and disabled. When implemented and true, replication is enabled.  When replication is enabled, one of the two Actions, CreateReplicaTarget and AssignReplicaTarget, shall be implemented, regardless of whether the volume is currently in a replica relationship.",
           "ConditionalRequirements": [{
            "InstanceRequirements": "AnyOf",
            "SubordinateToResource": ["Volume"],
            "Purpose": "At least one volume must have ReplicationEnabled to support Swordfish block remote replication; ReplicaFaultDomain type must be set to Remote.",
            "ReadRequirement": "Mandatory"
          }]
        },
        "ReplicaTargets": {
          "ReadRequirement": "IfImplemented"
        },
        "ReplicaInfo": {
          "ReadRequirement": "IfImplemented",
          "PropertyRequirements": {
            "ReplicaType": {},
            "ReplicaFaultDomain": {
              "Purpose": "The ReplicaFaultDomain type must be set to Remote.",
              "Values": ["Remote"]
            }
          }
        }
      }
    }
  }
}
